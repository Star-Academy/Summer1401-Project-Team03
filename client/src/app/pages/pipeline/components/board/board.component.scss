@mixin grid-pattern($bg-color, $border-color, $border-width, $grid-size) {
    background-color: $bg-color;
    background-image: linear-gradient($border-color $border-width, transparent $border-width),
        linear-gradient(to right, $border-color $border-width, $bg-color $border-width);
    background-size: $grid-size $grid-size;
}

@mixin dot-pattern($bg-color, $dot-color, $dot-space, $dot-size) {
    background-color: $bg-color;
    background-image: radial-gradient($dot-color $dot-size, $bg-color $dot-size);
    background-position: calc(#{$dot-space} / -2) calc(#{$dot-space} / -2);
    background-size: $dot-space $dot-space;
}

.container {
    position: relative;
    overflow: auto;
    scrollbar-gutter: stable;

    block-size: 100%;

    .board {
        @include dot-pattern(var(--color-gray-95), var(--color-gray-60), var(--grid-size), 1px);
        position: absolute;

        block-size: calc(var(--board-h) * var(--grid-size));
        inline-size: calc(var(--board-w) * var(--grid-size));

        .resizer {
            --size: calc(0.5 * var(--grid-size));

            background-color: var(--color-purple-30);

            position: absolute;

            inline-size: var(--size);
            aspect-ratio: 1;

            border-radius: 50%;

            &.xy {
                inset-block-start: calc(100% - var(--size) / 2);
                inset-inline-start: calc(100% - var(--size) / 2);

                cursor: se-resize;
            }

            &.x {
                inset-block-start: calc(50% - var(--size) / 2);
                inset-inline-start: calc(100% - var(--size) / 2);

                cursor: e-resize;
            }

            &.y {
                inset-block-start: calc(100% - var(--size) / 2);
                inset-inline-start: calc(50% - var(--size) / 2);

                cursor: s-resize;
            }
        }

        &::before {
            content: "";

            position: absolute;
            inset-block-end: -10rem;
            inset-inline-end: -10rem;

            block-size: 10rem;
            inline-size: 10rem;
        }
    }

    &::-webkit-scrollbar {
        display: none;

        block-size: 0.75rem;
        inline-size: 0.75rem;
    }

    &:hover {
        &::-webkit-scrollbar {
            display: unset;
        }
    }

    &::-webkit-scrollbar-track {
        background-color: var(--color-gray-95);
    }

    &::-webkit-scrollbar-thumb {
        background-color: var(--color-gray-78);

        border-radius: 1rem;
    }
}
